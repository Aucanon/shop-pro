import{b,c as w}from"./product-59f2ea0f.js";import{C as G}from"./CommentItem-fed762d8.js";import{a as E}from"./index-498bb32d.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{h as V,y as n,o as c,a$ as v,k as a,aI as e,aY as m,G as _,b5 as l,S as u,a_ as d,b2 as D,c as y,b3 as P}from"./index-5c77cc65.js";import{N as R}from"./index-f0590db4.js";import{a as q,C as g}from"./index-bae722f2.js";import{B as p}from"./index-2507f749.js";import{E as F}from"./index-b65cf528.js";/* empty css              */import"./index-49f6cb3d.js";import"./use-refs-988793b1.js";import"./use-touch-38e3a584.js";import"./use-placeholder-b9738b46.js";import"./use-route-7932d44a.js";import"./index-53e0e9c6.js";const H={__name:"index",props:{productId:{type:String,required:!0}},setup(k){const{productId:C}=k,x=E(),o=V({commentCounts:{},commentList:[],active:"0",isSum:n(()=>o.active==="0"),isGood:n(()=>o.active==="1"),isIn:n(()=>o.active==="2"),isPoor:n(()=>o.active==="3")}),B=n(()=>{var t;return((t=o.commentCounts)==null?void 0:t.good_count)||0}),I=n(()=>{var t;return((t=o.commentCounts)==null?void 0:t.poor_count)||0}),$=n(()=>{var t;return((t=o.commentCounts)==null?void 0:t.in_count)||0}),L=n(()=>{var t;return((t=o.commentCounts)==null?void 0:t.sum_count)||0}),z=n(()=>{var t;return((t=o.commentCounts)==null?void 0:t.reply_chance)||100}),N=n(()=>o.commentList.length||0);async function S(){const{data:t}=await b(C);t.status===200&&(o.commentCounts=t.data)}S();async function f(t){const{data:s}=await w(C,{type:t});s.status===200&&(o.commentList=s.data)}f("0");function r(t){o.active=t,f(t)}return(t,s)=>(c(),v(_,null,[a(e(R),{"left-arrow":"",fixed:"",onClickLeft:s[0]||(s[0]=i=>e(x).go(-1)),title:"评论"}),a(e(q),{class:"comment"},{default:m(()=>[a(e(g),{title:"商品评价",value:`好评率：${e(z)}%`},null,8,["value"]),a(e(g),{class:"tags"},{default:m(()=>[a(e(p),{onClick:s[1]||(s[1]=i=>r("0")),class:l({active:o.isSum}),size:"small"},{default:m(()=>[u(" 全部("+d(e(L))+") ",1)]),_:1},8,["class"]),a(e(p),{onClick:s[2]||(s[2]=i=>r("1")),class:l({active:o.isGood}),size:"small"},{default:m(()=>[u(" 好评("+d(e(B))+") ",1)]),_:1},8,["class"]),a(e(p),{onClick:s[3]||(s[3]=i=>r("2")),class:l({active:o.isIn}),size:"small"},{default:m(()=>[u(" 中评("+d(e($))+") ",1)]),_:1},8,["class"]),a(e(p),{onClick:s[4]||(s[4]=i=>r("3")),class:l({active:o.isPoor}),size:"small"},{default:m(()=>[u(" 差评("+d(e(I))+") ",1)]),_:1},8,["class"])]),_:1}),(c(!0),v(_,null,D(o.commentList,i=>(c(),y(G,{key:i.id,reply:i},null,8,["reply"]))),128)),e(N)?P("",!0):(c(),y(e(F),{key:0,description:"暂时没有评论..."}))]),_:1})],64))}},st=T(H,[["__scopeId","data-v-fd57d828"]]);export{st as default};
