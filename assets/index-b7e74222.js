import{L as F}from"./LayoutFooter-57b1b083.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{o as s,a$ as u,aZ as i,k as o,aI as t,Y as P,b0 as N,b1 as G,c as _,aY as c,G as f,b2 as h,a_ as g,g as m,y as H,S as U}from"./index-5c77cc65.js";/* empty css              */import{I as Y}from"./index-43f4aa3f.js";import{a as C,G as M}from"./index-6df4a39e.js";import{a as q}from"./index-5e69ffe4.js";import{g as z}from"./product-b4eabe96.js";import{a as B,S as V}from"./index-a5da3e41.js";import{N as A,L as E,P as T}from"./index-e3f91682.js";import"./index-b94a4d8e.js";import"./use-placeholder-b9738b46.js";import"./interceptor-b6b597e5.js";import"./use-route-7932d44a.js";import"./index-4d1704fc.js";import"./use-touch-38e3a584.js";import"./use-expose-287cc7e0.js";import"./on-popup-reopen-e5c081b4.js";import"./index-53e0e9c6.js";const Z="/assets/logo-15e0b288.png";const j=a=>(N("data-v-a7c7d022"),a=a(),G(),a),J={class:"home-nav"},K=j(()=>i("img",{src:Z,height:"20"},null,-1)),O={class:"search"},Q={__name:"HomeHeader",setup(a){return(l,d)=>(s(),u("div",J,[K,i("div",O,[o(t(P),{name:"search",size:"0.5rem"})]),o(t(P),{name:"wap-nav"})]))}},W=x(Q,[["__scopeId","data-v-a7c7d022"]]);const X=["textContent"],ee={class:"price"},te={class:"sale"},ae={__name:"ProductList",props:{productsData:{type:Array,required:!0}},setup(a){return(l,d)=>{const y=Y,w=C,I=M;return s(),_(I,{class:"product-list","column-num":2,gutter:15,center:!1,border:!1},{default:c(()=>[(s(!0),u(f,null,h(a.productsData,n=>(s(),_(w,{key:n.id,to:{name:"product",params:{productId:n.id}}},{default:c(()=>[o(y,{src:n.image,height:"165"},null,8,["src"]),i("p",{class:"title",textContent:g(n.store_name)},null,8,X),i("p",ee," ￥"+g(n.price),1),i("p",te," 已售"+g(n.sales),1)]),_:2},1032,["to"]))),128))]),_:1})}}},se=x(ae,[["__scopeId","data-v-5921b305"]]);const oe=a=>(N("data-v-733c5fb3"),a=a(),G(),a),ne=["src"],re=oe(()=>i("span",null,"热点咨询公告：",-1)),ce={__name:"HomeMain",setup(a){const l=m({}),d=async()=>{const{data:e}=await q();e.status===200&&(l.value=e.data,L.value=!1)};d();const y=H(()=>{var e;return(e=l.value.swiperBg)==null?void 0:e.default.imgList.list}),w=H(()=>{var e;return(e=l.value.menus)==null?void 0:e.default.imgList.list}),I=H(()=>{var e;return(e=l.value.news)==null?void 0:e.default.newList.list}),n=m(!1),b=m(!1),D=m([]);let $=1;const S=4,k=async()=>{const{data:e}=await z({limit:S,page:$});e.status===200&&(D.value.push(...e.data),n.value=!1,e.data.length<S&&(b.value=!0),$++)},L=m(!1),R=()=>{l.value={},D.value=[],$=1,n.value=!1,b.value=!1,d(),k()};return(e,v)=>(s(),_(t(T),{class:"home-main",modelValue:L.value,"onUpdate:modelValue":v[1]||(v[1]=r=>L.value=r),onRefresh:R},{default:c(()=>[o(t(B),{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:c(()=>[(s(!0),u(f,null,h(t(y),(r,p)=>(s(),_(t(V),{key:p},{default:c(()=>[i("img",{src:r.img},null,8,ne)]),_:2},1024))),128))]),_:1}),o(t(M),null,{default:c(()=>[(s(!0),u(f,null,h(t(w),(r,p)=>(s(),_(t(C),{key:p,icon:r.img,text:r.info[0].value},null,8,["icon","text"]))),128))]),_:1}),o(t(A),{"left-icon":"volume-o",scrollable:!1},{default:c(()=>[re,o(t(B),{vertical:"",class:"notice-swipe",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:c(()=>[(s(!0),u(f,null,h(t(I),(r,p)=>(s(),_(t(V),{key:p},{default:c(()=>[U(g(r.chiild[0].val),1)]),_:2},1024))),128))]),_:1})]),_:1}),o(t(E),{loading:n.value,"onUpdate:loading":v[0]||(v[0]=r=>n.value=r),finished:b.value,"finished-text":"没有更多了",onLoad:k},{default:c(()=>[o(se,{"products-data":D.value},null,8,["products-data"])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"]))}},le=x(ce,[["__scopeId","data-v-733c5fb3"]]);const ie={__name:"index",setup(a){return(l,d)=>(s(),u(f,null,[o(W),o(le,{class:"home-main"}),o(F)],64))}},ke=x(ie,[["__scopeId","data-v-6ebef596"]]);export{ke as default};
